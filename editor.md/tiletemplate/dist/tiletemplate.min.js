/*! tileTemplate v1.6.0 | Copyright (c) 2016 Pandao | https://github.com/pandao/tileTemplate | 2016-12-04 15:02:47 */
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require,exports,module):"function"==typeof define?define(e):e(function(){},window.tileTemplate={},{})}(function(e,t,n){"use strict";function i(e){return"undefined"!=typeof document?document.getElementById(e):e}"function"!=typeof"".trim&&(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")});var s=t;t.version="1.5.0",t.tags=[],t.caches=[],t.regex={},t.extend=function(e,t){t=t||this;for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t},t.settings={debug:!1,cached:!0,filter:!0,openTag:"<%",closeTag:"%>"},t.set=t.config=function(){arguments&&arguments.length>1?this.settings[arguments[0]]=arguments[1]:this.settings=this.extend(this.settings,arguments[0])},t.htmlEncode=function(e){return e.replace(/\</gim,"&lt;").replace(/\>/gim,"&gt;").replace(/\"/gim,"&quot;").replace(/\'/gim,"&apos;")},t.htmlDecode=function(e){return e.replace(/\&lt;/gim,"<").replace(/\&gt;/gim,">").replace(/\&quot;/gim,'"').replace(/\&apos;/gim,"'")},t.filter=function(e,t,n){return e=e.replace(/\s*<\s*iframe\s*(.*)\s*>\s*<\s*\/iframe\s*>\s*/gim,""),e=e.replace(new RegExp(t+"s*(.*)s*alerts*(s*(.*)s*)s*;?s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*confirms*(s*(.*)s*)s*;?s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*prompts*(s*(.*)s*)s*;?s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*windows*(.|;)s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*documents*(.|;)s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*createElements*(s*(.*)s*)s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*(\\$|jQuery)s*(.*)s*(s*(.*)s*)s*(.*)"+n,"igm"),""),e=e.replace(new RegExp(t+"s*(.*)s*eval(s*(.*)s*)s*(.*)"+n,"igm"),""),e.trim()},t.compileInclude=function(e){var t=this.settings.openTag,n=this.settings.closeTag;return function(r,o,a){var c=(new Date).getTime(),l=o.replace("('","").replace("')","").replace('("',"").replace('")',""),u="string"==typeof i(l)?l:null==i(l)?l:i(l).value||i(l).innerHTML,p=s.compile(u,e,{include:!0,name:l}).toString().split("\n").join("");return p=p.replace("anonymous","anonymous"+c),p+=' if (typeof __data__ !== "undefined") { __out__ += anonymous'+c+"(__data__); }",p=t+" "+p+" "+n}},t.compile=function(e,t,n){var i=(new Date).getTime(),r={include:!1,name:"tile"+i,isModule:!1};t=t||{},n=n||{},n=this.extend(r,n);var o=(n.include,this.settings.filter),a=this.settings.debug,c=this.settings.openTag,l=this.settings.closeTag,u=new RegExp(c+"=(.*?)"+l,"igm"),p=new RegExp(c+"=#(.*?)"+l,"igm"),g=new RegExp(c+"=@(.*?)"+l,"igm"),f=new RegExp("//"+c+"?\\s*(.*?)\\s*"+l+"?","igm"),_=/\s*tag:(\w+):?([\u4e00-\u9fa5]+|\w+|\d+)?\s*/gim,m=new RegExp(c+"\\s*include\\s*((.*?))\\s*;?\\s*"+l,"igm"),d=function(e,t,n){var i="undefined"==typeof n?s.tags[t]():s.tags[t](n.toString());return"'"+i.toString()+"'"};if(this.regex.include=m,e=e.replace(/(^\s*)|(\s*$)/g,"").replace(p,function(e,t){return"'+'"}).replace(f,"").replace(this.regex.include,this.compileInclude(t)).replace(g,function(e,t){return"'+__escape("+t+")+'"}).replace(u,function(e,t){return"'+"+t+"+'"}).split("\n"),a){for(var h=0,v=e.length;h<v;h++)e[h]=e[h].toString().replace(/(^\s*)|(\s*$)/g,"")+"_&_"+c+" __line__="+(h+1)+"; "+l+"_&_";e=e.join("").split("_&_")}for(var h=0,v=e.length;h<v;h++)e[h]=e[h].trim(),o&&(e[h]=this.filter(e[h],c,l)),e[h]="__out__+='"+e[h]+"';",e[h]=e[h].replace(_,d),e[h]=e[h].replace("__out__+='"+c,"").replace(l+"';","").replace("}';","}"),e[h]=e[h].replace(/^__out__\+\=\'\/\/(.*?)\'\;$/,function(e,t,n){return"/* "+t+" */"}).replace("'';';","'';");var x='function __escape(str) {return str.replace(/[\'|"|>|<|;]?/igm, "");}',y="function objectCount(data){var total=0;for(var i in data){total++} return total;};",w="if (typeof console === 'object') {console.error('[tileTemplate]\\n"+n.name+"\\n\\n[type]\\nRender error\\n\\nmessage: '+e.message+'\\nline: '+(e.line+1));}",E="try {"+e.join("")+"\n return __out__; } catch(e) { e.line=__line__; if(objectCount(data) > 0) { "+w+" }}";e="var __out__ = '', __line__=0;\n "+(a?E:e.join("")+"\n return __out__;");var R=[];for(var h in t)R.push(h+" = __data__."+h);R=R.length>0?"var "+R.join(", ")+";\n":"";var T=new Function("__data__",x+y+R+e);return n.isModule&&(T="define(function(require, exports, module) {module.exports = "+T.toLocaleString().replace("anonymous","")+"})"),T},t.render=function(e,t,n,s){"undefined"==typeof s&&(s=!1),t=t||{},n=n||"";var r=this.settings.cached,o="string"==typeof i(e)?e:null==i(e)?e:i(e).value||i(e).innerHTML,a=""==n?e:n;if(r&&"undefined"!=typeof this.caches[a])return this.caches[a];var c=this.compile(o,t,{name:""==n?e:n,isModule:s})(t);return r&&(this.caches[a]=c),c},t.tag=function(e,t){this.tags[e]=t},t.clear=function(e){return delete this.caches[e],!0}});